# Runnable å¦‚ä½•å®ç°"ä»»åŠ¡å’Œçº¿ç¨‹åˆ†ç¦»ï¼Œæ›´çµæ´»"ï¼Ÿ

## ğŸ¯ æ ¸å¿ƒç†è§£

### å…³é”®æ¦‚å¿µåŒºåˆ†

```
ä»»åŠ¡ï¼ˆTask/Runnableï¼‰= åšä»€ä¹ˆï¼ˆWhat to doï¼‰
çº¿ç¨‹ï¼ˆThreadï¼‰= æ€ä¹ˆæ‰§è¡Œï¼ˆHow to executeï¼‰
```

**ç»§æ‰¿ Thread çš„é—®é¢˜ï¼š**
- âŒ æŠŠ"åšä»€ä¹ˆ"å’Œ"æ€ä¹ˆæ‰§è¡Œ"æ··åœ¨ä¸€èµ·
- âŒ ä»»åŠ¡å°±æ˜¯çº¿ç¨‹ï¼Œçº¿ç¨‹å°±æ˜¯ä»»åŠ¡
- âŒ æ— æ³•åˆ†ç¦»ï¼Œä¸å¤Ÿçµæ´»

**å®ç° Runnable çš„ä¼˜åŠ¿ï¼š**
- âœ… ä»»åŠ¡åªå®šä¹‰"åšä»€ä¹ˆ"
- âœ… çº¿ç¨‹è´Ÿè´£"æ€ä¹ˆæ‰§è¡Œ"
- âœ… ä»»åŠ¡å¯ä»¥ç‹¬ç«‹å­˜åœ¨ï¼Œå¯ä»¥åœ¨ä¸åŒç¯å¢ƒä¸­æ‰§è¡Œ

---

## ğŸ“Š å¯¹æ¯”ç¤ºä¾‹

### æ–¹å¼1ï¼šç»§æ‰¿ Threadï¼ˆè€¦åˆï¼‰

```java
// ä»»åŠ¡å’Œçº¿ç¨‹ç»‘å®šåœ¨ä¸€èµ·
class MyTask extends Thread {
    @Override
    public void run() {
        System.out.println("æ‰§è¡Œä»»åŠ¡");
    }
}

// ä½¿ç”¨ï¼šæ¯æ¬¡éƒ½è¦åˆ›å»ºæ–°çš„ Thread å¯¹è±¡
MyTask task1 = new MyTask();
task1.start();

MyTask task2 = new MyTask();  // åˆè¦åˆ›å»ºæ–°å¯¹è±¡
task2.start();
```

**é—®é¢˜ï¼š**
- ä»»åŠ¡é€»è¾‘å’Œçº¿ç¨‹å¯¹è±¡è€¦åˆ
- æ¯æ¬¡æ‰§è¡Œéƒ½è¦åˆ›å»ºæ–°çš„ Thread å¯¹è±¡
- æ— æ³•å¤ç”¨ä»»åŠ¡å¯¹è±¡

---

### æ–¹å¼2ï¼šå®ç° Runnableï¼ˆåˆ†ç¦»ï¼‰

```java
// ä»»åŠ¡ï¼šåªå®šä¹‰åšä»€ä¹ˆ
class MyTask implements Runnable {
    @Override
    public void run() {
        System.out.println("æ‰§è¡Œä»»åŠ¡");
    }
}

// ä½¿ç”¨ï¼šä»»åŠ¡å’Œçº¿ç¨‹åˆ†ç¦»
MyTask task = new MyTask();  // åªåˆ›å»ºä¸€æ¬¡ä»»åŠ¡å¯¹è±¡

// å¯ä»¥ç”¨ä¸åŒçš„çº¿ç¨‹æ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡
Thread thread1 = new Thread(task);
thread1.start();

Thread thread2 = new Thread(task);  // å¤ç”¨åŒä¸€ä¸ªä»»åŠ¡å¯¹è±¡
thread2.start();
```

**ä¼˜åŠ¿ï¼š**
- âœ… ä»»åŠ¡å¯¹è±¡å¯ä»¥å¤ç”¨
- âœ… ä»»åŠ¡å’Œçº¿ç¨‹åˆ†ç¦»
- âœ… æ›´çµæ´»

---

## ğŸ” å…·ä½“ä¼˜åŠ¿ä½“ç°

### ä¼˜åŠ¿1ï¼šä»»åŠ¡å¯¹è±¡å¯ä»¥å¤ç”¨

**ç»§æ‰¿ Threadï¼š**
```java
// æ¯æ¬¡æ‰§è¡Œéƒ½è¦åˆ›å»ºæ–°å¯¹è±¡
for (int i = 0; i < 10; i++) {
    MyTask task = new MyTask();  // åˆ›å»º10ä¸ªå¯¹è±¡
    task.start();
}
```

**å®ç° Runnableï¼š**
```java
// åªåˆ›å»ºä¸€æ¬¡ä»»åŠ¡å¯¹è±¡ï¼Œå¯ä»¥å¤ç”¨
MyTask task = new MyTask();  // åªåˆ›å»º1ä¸ªå¯¹è±¡
for (int i = 0; i < 10; i++) {
    new Thread(task).start();  // å¤ç”¨åŒä¸€ä¸ªä»»åŠ¡å¯¹è±¡
}
```

**å¥½å¤„ï¼š** èŠ‚çœå†…å­˜ï¼Œæé«˜æ•ˆç‡

---

### ä¼˜åŠ¿2ï¼šå¯ä»¥åœ¨çº¿ç¨‹æ± ä¸­ä½¿ç”¨

**ç»§æ‰¿ Threadï¼š**
```java
// è™½ç„¶å¯ä»¥ï¼Œä½†ä¸æ˜¯æœ€ä½³å®è·µ
ExecutorService executor = Executors.newFixedThreadPool(3);
executor.execute(new MyTask());  // å¯ä»¥ï¼Œä½†ä¸æ¨è
```

**å®ç° Runnableï¼š**
```java
// å®Œç¾é€‚é…çº¿ç¨‹æ± 
ExecutorService executor = Executors.newFixedThreadPool(3);
MyTask task = new MyTask();
executor.execute(task);  // çº¿ç¨‹æ± çš„è®¾è®¡å°±æ˜¯æ¥æ”¶ Runnable
```

**åŸå› ï¼š** çº¿ç¨‹æ± ç®¡ç†çš„æ˜¯**ä»»åŠ¡**ï¼Œä¸æ˜¯**çº¿ç¨‹**ã€‚çº¿ç¨‹æ± å†…éƒ¨ä¼šåˆ›å»ºå’Œç®¡ç†çº¿ç¨‹ï¼Œåªéœ€è¦ä½ æä¾›ä»»åŠ¡ï¼ˆRunnableï¼‰ã€‚

---

### ä¼˜åŠ¿3ï¼šå¯ä»¥çµæ´»é€‰æ‹©æ‰§è¡Œæ–¹å¼

**å®ç° Runnableï¼š**
```java
MyTask task = new MyTask();

// âœ… å¯ä»¥åœ¨å½“å‰çº¿ç¨‹ä¸­æ‰§è¡Œï¼ˆåŒæ­¥ï¼‰
task.run();  // ç›´æ¥è°ƒç”¨ï¼Œä¸åˆ›å»ºæ–°çº¿ç¨‹

// âœ… å¯ä»¥åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œï¼ˆå¼‚æ­¥ï¼‰
new Thread(task).start();

// âœ… å¯ä»¥æ ¹æ®æ¡ä»¶é€‰æ‹©æ‰§è¡Œæ–¹å¼
boolean useAsync = true;
if (useAsync) {
    new Thread(task).start();  // å¼‚æ­¥æ‰§è¡Œ
} else {
    task.run();  // åŒæ­¥æ‰§è¡Œ
}
```

**ç»§æ‰¿ Threadï¼š**
```java
MyTask task = new MyTask();

// âŒ åªèƒ½åœ¨æ–°çº¿ç¨‹ä¸­æ‰§è¡Œ
task.start();  // å¿…é¡»åˆ›å»ºæ–°çº¿ç¨‹

// âŒ æ— æ³•åœ¨å½“å‰çº¿ç¨‹ä¸­ç›´æ¥æ‰§è¡Œ
// task.run();  // è™½ç„¶å¯ä»¥è°ƒç”¨ï¼Œä½†è¿™ä¸æ˜¯ Thread çš„è®¾è®¡ç›®çš„
```

---

### ä¼˜åŠ¿4ï¼šä»»åŠ¡å’Œçº¿ç¨‹èŒè´£åˆ†ç¦»

**å®ç° Runnableï¼š**
```java
// ä»»åŠ¡ï¼šåªå®šä¹‰ä¸šåŠ¡é€»è¾‘ï¼ˆåšä»€ä¹ˆï¼‰
Runnable task = () -> {
    System.out.println("æ‰§è¡Œä»»åŠ¡é€»è¾‘");
    // ä¸šåŠ¡é€»è¾‘...
};

// çº¿ç¨‹1ï¼šç”¨æ–°çº¿ç¨‹æ‰§è¡Œ
Thread thread1 = new Thread(task);
thread1.start();

// çº¿ç¨‹2ï¼šç”¨å¦ä¸€ä¸ªçº¿ç¨‹æ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡
Thread thread2 = new Thread(task);
thread2.start();

// å½“å‰çº¿ç¨‹ï¼šä¹Ÿå¯ä»¥æ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡
task.run();
```

**è¯´æ˜ï¼š**
- **ä»»åŠ¡ï¼ˆRunnableï¼‰**ï¼šå®šä¹‰ä¸šåŠ¡é€»è¾‘
- **çº¿ç¨‹ï¼ˆThreadï¼‰**ï¼šæä¾›æ‰§è¡Œç¯å¢ƒ
- ä¸¤è€…åˆ†ç¦»ï¼Œå¯ä»¥çµæ´»ç»„åˆ

---

## ğŸ¨ ç±»æ¯”ç†è§£

### ç»§æ‰¿ Thread = "ä¼šå¼€è½¦çš„å¸æœº"
```
å¸æœº = äººï¼ˆçº¿ç¨‹ï¼‰
å¼€è½¦æŠ€èƒ½ = ä»»åŠ¡é€»è¾‘

é—®é¢˜ï¼š
- å¸æœºå’Œå¼€è½¦æŠ€èƒ½ç»‘å®šåœ¨ä¸€èµ·
- è¿™ä¸ªå¸æœºåªèƒ½å¼€è½¦ï¼Œä¸èƒ½åšå…¶ä»–äº‹
- æ¯æ¬¡éœ€è¦å¼€è½¦éƒ½è¦æ‰¾æ–°å¸æœº
```

### å®ç° Runnable = "ä¼šåšèœçš„å¨å¸ˆ"
```
å¨å¸ˆ = ä»»åŠ¡ï¼ˆRunnableï¼‰
é¤å… = çº¿ç¨‹ï¼ˆThreadï¼‰

ä¼˜åŠ¿ï¼š
- å¨å¸ˆå¯ä»¥ç»™ä¸åŒé¤å…æ‰“å·¥
- åŒä¸€ä¸ªå¨å¸ˆå¯ä»¥åœ¨ä¸åŒé¤å…åšèœ
- å¨å¸ˆå’Œé¤å…åˆ†ç¦»ï¼Œæ›´çµæ´»
```

---

## ğŸ’¡ å®é™…åº”ç”¨åœºæ™¯

### åœºæ™¯1ï¼šçº¿ç¨‹æ± 
```java
// çº¿ç¨‹æ± éœ€è¦çš„æ˜¯ä»»åŠ¡ï¼ˆRunnableï¼‰ï¼Œä¸æ˜¯çº¿ç¨‹ï¼ˆThreadï¼‰
ExecutorService executor = Executors.newFixedThreadPool(5);

// âœ… æ­£ç¡®ï¼šæä¾›ä»»åŠ¡
Runnable task = () -> System.out.println("æ‰§è¡Œä»»åŠ¡");
executor.execute(task);

// âŒ é”™è¯¯ï¼šçº¿ç¨‹æ± ä¼šè‡ªå·±ç®¡ç†çº¿ç¨‹ï¼Œä¸éœ€è¦ä½ æä¾› Thread
```

### åœºæ™¯2ï¼šä»»åŠ¡å¤ç”¨
```java
// åŒä¸€ä¸ªä»»åŠ¡å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­æ‰§è¡Œ
Runnable task = () -> {
    // å¤æ‚çš„ä¸šåŠ¡é€»è¾‘
    processData();
};

// ç”¨å¤šä¸ªçº¿ç¨‹æ‰§è¡ŒåŒä¸€ä¸ªä»»åŠ¡
for (int i = 0; i < 10; i++) {
    new Thread(task).start();  // å¤ç”¨ä»»åŠ¡å¯¹è±¡
}
```

### åœºæ™¯3ï¼šçµæ´»æ‰§è¡Œ
```java
Runnable task = () -> {
    // ä¸šåŠ¡é€»è¾‘
};

// æ ¹æ®é…ç½®å†³å®šæ˜¯åŒæ­¥è¿˜æ˜¯å¼‚æ­¥æ‰§è¡Œ
if (config.isAsync()) {
    new Thread(task).start();  // å¼‚æ­¥
} else {
    task.run();  // åŒæ­¥
}
```

---

## ğŸ“ æ€»ç»“

### ä¸ºä»€ä¹ˆ Runnable æ›´çµæ´»ï¼Ÿ

1. **èŒè´£åˆ†ç¦»**
   - ä»»åŠ¡ = åšä»€ä¹ˆï¼ˆä¸šåŠ¡é€»è¾‘ï¼‰
   - çº¿ç¨‹ = æ€ä¹ˆæ‰§è¡Œï¼ˆæ‰§è¡Œç¯å¢ƒï¼‰
   - ä¸¤è€…åˆ†ç¦»ï¼Œå„å¸å…¶èŒ

2. **å¯å¤ç”¨æ€§**
   - åŒä¸€ä¸ªä»»åŠ¡å¯¹è±¡å¯ä»¥åœ¨å¤šä¸ªçº¿ç¨‹ä¸­ä½¿ç”¨
   - èŠ‚çœå†…å­˜ï¼Œæé«˜æ•ˆç‡

3. **é€‚é…æ€§**
   - å®Œç¾é€‚é…çº¿ç¨‹æ± 
   - å¯ä»¥åœ¨ä¸åŒç¯å¢ƒä¸­æ‰§è¡Œ

4. **çµæ´»æ€§**
   - å¯ä»¥é€‰æ‹©åŒæ­¥æˆ–å¼‚æ­¥æ‰§è¡Œ
   - å¯ä»¥æ ¹æ®æ¡ä»¶åŠ¨æ€é€‰æ‹©æ‰§è¡Œæ–¹å¼

5. **ç¬¦åˆè®¾è®¡åŸåˆ™**
   - å•ä¸€èŒè´£åŸåˆ™ï¼šä»»åŠ¡åªè´Ÿè´£ä¸šåŠ¡é€»è¾‘
   - å¼€é—­åŸåˆ™ï¼šå¯ä»¥æ‰©å±•ä¸åŒçš„æ‰§è¡Œæ–¹å¼
   - ä¾èµ–å€’ç½®åŸåˆ™ï¼šä¾èµ–æ¥å£ï¼ˆRunnableï¼‰ï¼Œä¸ä¾èµ–å…·ä½“å®ç°

---

## ğŸ¯ æ ¸å¿ƒè¦ç‚¹

**è®°ä½è¿™å¥è¯ï¼š**
> **Runnable æ˜¯ä»»åŠ¡ï¼ŒThread æ˜¯æ‰§è¡Œè€…ã€‚ä»»åŠ¡å¯ä»¥ç»™ä¸åŒçš„æ‰§è¡Œè€…æ‰§è¡Œï¼Œè¿™å°±æ˜¯åˆ†ç¦»å’Œçµæ´»æ€§çš„ä½“ç°ã€‚**

**ç®€å•ç†è§£ï¼š**
- ç»§æ‰¿ Threadï¼šä»»åŠ¡å’Œçº¿ç¨‹æ˜¯ä¸€ä½“çš„ï¼Œç»‘å®šåœ¨ä¸€èµ·
- å®ç° Runnableï¼šä»»åŠ¡å’Œçº¿ç¨‹æ˜¯åˆ†å¼€çš„ï¼Œå¯ä»¥è‡ªç”±ç»„åˆ

**å®é™…å¥½å¤„ï¼š**
- âœ… ä»£ç æ›´æ¸…æ™°
- âœ… æ›´å®¹æ˜“ç»´æŠ¤
- âœ… æ›´çµæ´»
- âœ… æ›´ç¬¦åˆé¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™

